(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8537,2497,8948,3690],{46666:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/papers/[slug]",function(){return l(52323)}])},96520:function(e,t,l){"use strict";var a=l(35944),n=l(67294),i=l(56559),s=l(87278),r=l(28508),o=l(85754),c=l(67818),d=l(46193),u=l(97297),f=l(39903),p=l(4549),m=l(24982),h=l(14301);t.Z=e=>{let{children:t,fullSlug:l,hasPdf:x,title:v,variant:_,copilotSize:g="LARGE",onToggleCopilotSize:Z}=e,{isLoggedIn:w}=(0,n.useContext)(i.Vo),b=async()=>d.Z.getPaperConversation(l),P=async()=>d.Z.createConversation({entity_type:"PAPER",full_slug:l}),y=async()=>{o.Z.emit(c.Z.SHOW_COPILOT_ANNOTATION_TAB,{selectedEntitySlug:l})},N=async e=>{await (0,f.l)({newSize:e}),null==Z||Z(e),(0,h.n)(r.mN,!1)},C=async()=>await (0,m.e)({isLoggedIn:w,entity_type:"PAPER"}),S=async e=>{await (0,p.t)({options:e,entityType:"PAPER",hasPdf:x})},k=async()=>{await (0,u.S)({})},E=[...x?["SNIP"]:[],"CONVERSATION_QUESTION","BRAINSTORM_QUESTION","BRAINSTORM_QUESTION_WITH_KEYWORD","SHARE","CITATION","MESSAGE_FOLLOWUP_QUESTION"];return(0,a.tZ)(s.Z,{entityFullSlug:l,title:v,entityHasPdf:x,entityType:"PAPER",getEntityConversation:b,copilotSize:g,variant:_||"DEFAULT",beforeSendNewMessage:y,afterCheckCopilotLimit:C,afterToggleCopilotSize:N,afterSendNewMessage:S,afterCreateConversation:k,featuresEnabled:E,createEntityConversation:P,children:t})}},48036:function(e,t,l){"use strict";l.d(t,{R:function(){return s}});var a=l(35944);l(67294);var n=l(98388),i=l(21432);let s=e=>{let{figurelist:t,onThumbnailClick:l,onShowAll:s,showAllIconType:r,total:o,showLabel:c=!1,showScrolbar:d=!1,shouldPersistOnUrl:u,figuresGalleryUrl:f,enableGrid:p=!1}=e;return(0,a.tZ)(a.HY,{children:(0,a.tZ)("ul",{className:(0,n.m6)("mt-px flex list-none items-center gap-x-2 gap-y-4 pl-0 sm:gap-x-2.5 sm:overflow-x-auto md:gap-x-4 md:overflow-x-visible ",p?"grid grid-cols-[repeat(auto-fill,_minmax(80px,_1fr))] justify-items-center":"flex flex-wrap"),children:t.map((e,t)=>(0,a.tZ)(i.Z,{href:f?"".concat(f,"/").concat(e.full_slug):"#",underline:"never",onClick:e=>{l(e,t)},children:(0,a.tZ)("li",{className:"w-20",children:(0,a.BX)("figure",{className:"m-0",children:[(0,a.BX)("picture",{children:[(0,a.tZ)("source",{srcSet:e.path,type:"image/webp"}),(0,a.tZ)("source",{srcSet:e.raw_version_path,type:"image/png"}),(0,a.tZ)("img",{className:"block h-20 w-20 cursor-pointer overflow-hidden rounded border-px border-neutral-200 object-contain",src:e.raw_version_path,alt:e.caption,loading:"lazy"})]}),(0,a.tZ)("figcaption",{className:(0,n.m6)("text-neutral-900 text-ellipsis overflow-hidden whitespace-nowrap mt-1 w-20 ",c?"block":"none"),children:e.caption})]})})},e.full_slug))})})}},57543:function(e,t,l){"use strict";l.r(t),l.d(t,{Figures:function(){return f}});var a=l(35944),n=l(67294),i=l(68779),s=l(67814),r=l(48036),o=l(33405),c=l(21432),d=l(95609),u=l(11247);let f=e=>{let{figures:t,paper:l,shouldPersistOnUrl:f,displayFigures:p,figureSlug:m,figuresGalleryUrl:h,redirectPathOnClose:x,onClick:v,..._}=e,{setFigureContext:g}=(0,n.useContext)(u.F),{figuresPerLine:Z}=_;if(!t)return null;let w=Z&&Z<t.total?(0,a.tZ)(c.Z,{href:h||"#",onClick:e=>{!f&&(e.preventDefault(),l&&g(l,t,null))},underline:"never",children:(0,a.BX)(o.Z,{variant:"text",children:["Show all \xa0",(0,a.tZ)(s.G,{icon:i.ptq})]})}):null;return(0,a.BX)("div",{className:"flex flex-wrap",children:[_.figuresPerLine&&(0,a.tZ)(r.R,{onThumbnailClick:(e,a)=>{null==v||v(),!f&&(e.preventDefault(),l&&g(l,t,a))},figurelist:t.data.slice(0,_.figuresPerLine),total:t.total,..._,onShowAll:()=>{l&&g(l,t,null)},shouldPersistOnUrl:f,figuresGalleryUrl:h}),["text"].includes(_.showAllIconType)&&(0,a.tZ)("div",{className:"flex items-center justify-center sm:ml-4",children:w&&(0,a.tZ)(d.default,{content:"Click to see all figures",children:w})})]})};t.default=f},46225:function(e,t,l){"use strict";l.r(t);var a=l(35944),n=l(67294),i=l(68779),s=l(73582),r=l(67814),o=l(34337),c=l(52532);let d=e=>{let{forwardRef:t,type:l,paperSlug:n,fssConfig:d,...u}=e,f=null;switch(l){case"citations":f="Citations";break;case"references":f="References"}return(0,a.BX)("div",{className:"",ref:t,children:[(0,a.BX)("h5",{className:"mb-5 mt-0 flex items-center text-2xl font-semibold",children:[(0,a.tZ)(r.G,{className:"mr-2 text-xl text-secondary-500",icon:"citations"===l?s.Elr:i.FL8}),f]}),(0,a.tZ)(o.Z,{showCount:!0,showDivider:!1,renderEl:e=>(0,a.tZ)(c.Z,{...e,page:"Paper Leaf",Location:"citations"===l?"Citations":"References"},e.full_slug),config:d,fssDataUrl:"/api/papers/".concat(n,"/").concat(l,"/fss/data"),fssConfigUrl:"/api/papers/".concat(n,"/").concat(l,"/fss"),dataUrl:"/api/papers/".concat(n,"/").concat(l),showPagination:!0,prefix:l,spacing:4,containerSpacing:4,maxFiltersInCollapsedState:2,...u})]})};t.default=n.forwardRef((e,t)=>(0,a.tZ)(d,{...e,forwardRef:t}))},81057:function(e,t,l){"use strict";l.r(t);var a=l(35944),n=l(67294),i=l(68779),s=l(67814),r=l(33236),o=l(96214);let c=e=>{let{SectionProps:t={},...l}=e;return(0,a.tZ)(o.default,{title:(0,a.BX)(a.HY,{children:[(0,a.tZ)(s.G,{icon:i.SCr,className:"text-secondary"}),(0,a.BX)("p",{className:"m-0 text-xl",children:["Related Papers ",l.total?"(".concat(l.total,")"):""]})]}),dataSection:"related_papers",ref:l.forwardRef,children:(0,a.tZ)(r.Z,{...l,cardType:"small"})})};t.default=n.forwardRef((e,t)=>(0,a.tZ)(c,{...e,forwardRef:t}))},11247:function(e,t,l){"use strict";l.d(t,{F:function(){return r}});var a=l(35944),n=l(67294),i=l(5152);let s=l.n(i)()(()=>l.e(9466).then(l.bind(l,98675)),{loadableGenerated:{webpack:()=>[98675]},ssr:!1}),r=n.createContext({setFigureContext:()=>{}});t.Z=e=>t=>{let[l,i]=(0,n.useState)(null),[o,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(null);return(0,a.BX)(a.HY,{children:[(0,a.tZ)(r.Provider,{value:{setFigureContext:(e,t,l)=>{i(e),c(t),u(l)}},children:(0,a.tZ)(e,{...t})}),!!l&&!!o&&(0,a.tZ)(s,{open:!0,onClose:()=>{i(null),c(null),u(null)},paper:l,figures:o,selectedFigureIdx:d})]})}},52323:function(e,t,l){"use strict";l.r(t),l.d(t,{__N_SSP:function(){return ev},default:function(){return ex}});var a=l(35944),n=l(67294),i=l(60503),s=l(75781),r=l(64954),o=l(13625),c=l(39483),d=l(96520),u=l(91251),f=l(28508),p=l(26564),m=l(79390),h=l(19130),x=l(12410),v=l(35580),_=l(98605),g=l(5152),Z=l.n(g),w=l(68779),b=l(73582),P=l(67814),y=l(46225),N=l(56559),C=l(51048),S=l(37439),k=l(44866),E=l(91444),T=l(33405),B=l(86092),A=e=>{let{fileName:t="download.pdf",url:l,buttonText:i,onClick:s}=e,[r,o]=(0,n.useState)(!1),c=async()=>{try{o(!0);let e=await fetch(l);if(!e.ok){o(!1),E.Am.error("Failed to download file");return}let a=await e.blob();(0,B.Z)(a,t)}catch(e){E.Am.error("Failed to download file")}finally{o(!1),null==s||s()}};return(0,a.tZ)(T.Z,{size:"sm",variant:"text",startIcon:(0,a.tZ)(P.G,{icon:w.r5q}),onClick:c,disabled:r,className:"text-neutral-700 hover:!bg-neutral-50",children:(0,a.tZ)("span",{className:"text-neutral-700",children:i})})},L=l(10763),R=l(59417),F=l(98388),I=l(57909),X=e=>{let{optionList:t,buttonClassName:l}=e,[i,s]=(0,n.useState)(!1),r=(0,a.tZ)("div",{className:"flex flex-col items-center justify-start pt-1",children:t.map(e=>(0,a.tZ)("div",{className:"flex w-full items-center py-2 pl-5 pr-7 hover:!bg-neutral-50",children:e.child},e.index))}),o=()=>{s(!i)};return(0,a.tZ)(I.default,{side:"top",className:"rounded-md bg-white shadow-lg",content:r,open:i,onClose:o,children:(0,a.tZ)("div",{className:(0,F.m6)("popover-cta mx-2 cursor-pointer rounded-md px-3 py-1 hover:bg-neutral-50",l),onClick:o,children:(0,a.tZ)(P.G,{icon:R.Uwo})})})},O=l(8537),G=l(45888),D=l(21432),U=l(32383),z=l(15265),j=l(13577),H=l(50821),q=l(97693),M=l(39596),Y=l(95723),V=l(9669),Q=l.n(V),W=l(95277),$=e=>{var t,l;let{full_slug:i}=e,[s,r]=(0,n.useState)(!0),[o,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(null),f=async()=>{try{r(!0),c(null);let e=await W.Z.getPaperPublicStat(i);u(e)}catch(e){if(Q().isAxiosError(e)&&e.response){c(e.response.data.message);return}console.log(e),c("Something went wrong!")}finally{r(!1)}};return((0,n.useEffect)(()=>{f()},[i]),o)?(0,a.tZ)("div",{}):s?(0,a.BX)("div",{className:"flex animate-pulse space-x-4",children:[(0,a.tZ)("div",{className:"h-9 w-20 rounded bg-slate-100"}),(0,a.tZ)("div",{className:"h-9 w-20 rounded bg-slate-100"})]}):(0,a.BX)("div",{className:"flex w-fit gap-2 rounded-md bg-neutral-50 px-4 py-2",children:[(0,a.BX)("div",{className:"flex items-center space-x-2 px-1",children:[(0,a.tZ)(P.G,{icon:w.dzc,size:"sm"}),(0,a.tZ)("span",{children:"Reads"}),(0,a.tZ)("span",{className:"text-typo-primary",children:(0,q.Z)((null==d?void 0:null===(t=d.reads)||void 0===t?void 0:t.count)||0)})]}),(0,a.BX)("div",{className:"flex items-center space-x-2 px-1",children:[(0,a.tZ)(P.G,{icon:w.lXL,size:"sm"}),(0,a.tZ)("span",{children:"Chats"}),(0,a.tZ)("span",{className:"text-typo-primary",children:(0,q.Z)((null==d?void 0:null===(l=d.chats)||void 0===l?void 0:l.count)||0)})]})]})},K=e=>{let{title:t,journal:l,tldr:i,abstract:o,doi:c,publication_type:d,volume:u,issue:f,first_page:m,last_page:x,date:v,publisher:_,authors:g,affiliations:Z,is_oa:y,about:E,full_slug:B,is_bookmarked:R,fulltext_url:F,fulltext_url_no_follow:I,citations:V}=e,{userId:Q,user:W,userProfile:K,isLoggedIn:J}=(0,N.Eu)(),{tallyIdReportPublication:ee,featureFlags:et}=(0,n.useContext)(s.I),{isMobile:el}=(0,n.useContext)(r.Tp),{setCiteContent:ea}=(0,n.useContext)(p.m),{gptModels:en,activeLitRevModal:ei,accessToCurrentLitRevModal:es}=(0,n.useContext)(C.L),er=!!F&&!I,eo=()=>{(0,h._P)("PaperPublic Cite Clicked",{hasPdf:er}),ea(e)},ec=[{index:1,child:(0,a.tZ)(T.Z,{onClick:()=>{var e;(0,h._P)("PaperPublic Report Clicked",{hasPdf:er}),ee&&(0,j.D)(ee,{user_id:Q,email:null==W?void 0:W.email,paper_slug:B,own_paper:(null==g?void 0:null===(e=g.data)||void 0===e?void 0:e.some(e=>e.full_slug===(null==K?void 0:K.full_slug)))?"true":"false"})},className:"!w-full justify-start !p-0 !text-neutral-700 hover:!text-neutral-700",startIcon:(0,a.tZ)(P.G,{className:"pr-2 text-neutral-700",icon:w.RrC}),children:"Report"})}];return el&&ec.push({index:2,child:(0,a.tZ)(T.Z,{size:"md",onClick:eo,className:"!w-full justify-start !p-0 !text-neutral-700 hover:!text-neutral-700",startIcon:(0,a.tZ)(P.G,{icon:b.Elr,size:"sm",className:"pr-2 text-neutral-700"}),children:"Cite"})}),(0,a.BX)(a.HY,{children:[(0,a.tZ)(z.default,{}),(0,a.BX)("div",{className:"space-y-1.5",children:[(0,a.tZ)("div",{className:"mb-1.5 flex justify-between",children:(0,a.BX)("div",{className:"flex items-center divide-x text-13 text-gray-700",children:[y&&(0,a.tZ)("span",{className:"pr-1.5",children:"Open Access"}),d&&(0,a.tZ)("span",{className:"px-1.5",children:d}),!!c&&(0,a.tZ)(D.Z,{href:"https://www.doi.org/".concat(c),className:"px-1.5 text-gray-700 hover:text-primary-500",onClick:()=>{(0,h._P)("PaperPublic DOI Clicked",{hasPdf:er})},children:(0,a.tZ)("span",{children:"DOI"})})]})}),(0,a.tZ)(L.default,{children:(0,a.tZ)("h1",{className:"m-0 text-2xl font-bold sm:leading-10 lg:leading-tight",children:t})},t),(0,a.tZ)(G.Z,{affiliations:Z,authors:g,journal:l,date:v,first_page:m,issue:f,last_page:x,volume:u,publisher:_,variant:"PAPER_PUBLIC_HERO",hasPdf:er}),(0,a.tZ)("div",{className:"pt-1.5",children:(0,a.BX)("div",{className:"!mb-4 flex flex-col gap-y-2 text-sm text-neutral-600 lg:flex-row lg:items-center lg:justify-between",children:[et.publicStatsEnabled?(0,a.tZ)($,{full_slug:B}):null,(0,a.BX)("div",{className:"flex flex-row items-center justify-between gap-x-1 sm:gap-x-2",children:[!!(null==V?void 0:V.is_show)&&V.total&&(0,a.BX)("div",{className:"flex items-center space-x-1 text-15",children:[(0,a.tZ)(P.G,{icon:b.Elr,className:"text-neutral-600"}),(0,a.BX)("span",{className:"font-medium text-neutral-A100",children:["".concat((0,q.Z)(V.total||0,{format:"abbreviate"})),"\xa0Citations"]})]}),(0,a.BX)("div",{className:"flex flex-row items-center justify-between gap-x-2",children:[!!F&&!I&&(0,a.tZ)(A,{url:(0,H.ud)(F),buttonText:"PDF",fileName:"".concat(t,".pdf"),onClick:()=>{(0,h._P)("PaperPublic DownloadPdf Clicked",{hasPdf:er})}}),(0,a.tZ)(k.Z,{variant:"button",entity:"PAPER",entity_slug:B,is_bookmarked:R,onClick:()=>{(0,h._P)("PaperPublic Bookmark Clicked",{hasPdf:er})},page:"Paper Leaf",paperTitle:t,hasPdf:er}),(0,a.tZ)(T.Z,{size:"md",onClick:eo,className:"hover:!bg-neutral-50 max-sm:hidden",startIcon:(0,a.tZ)(P.G,{icon:b.Elr,size:"sm",className:"text-neutral-700"})}),(0,a.tZ)(O.Z,{variant:"icon-button",link:(0,M.Y9)(B),onShare:e=>{(0,h._P)("PaperPublic Share Clicked",{channel:e,hasPdf:er})}}),(0,a.tZ)(X,{optionList:ec})]})]})]})}),!!i&&(0,a.tZ)(U.default,{maxHeight:er?50:160,id:"HTMLEllipsis__tldr__".concat(B),expandText:"read more",showReadLess:!0,scrollOnCollapse:!1,variant:"PAPERS_PUBLIC_TLDR",hasPdf:er,children:(0,a.BX)("div",{className:"text-15",children:[(0,a.tZ)("span",{className:"font-bold",children:"TL;DR: "}),i]})},"tldr_".concat(B)),(!!o||!!E)&&(0,a.tZ)(U.default,{maxHeight:er?50:160,id:"HTMLEllipsis__abstract__".concat(B),expandText:"read more",showReadLess:!0,scrollOnCollapse:!1,variant:"PAPERS_PUBLIC_ABSTRACT",hasPdf:er,children:(0,a.BX)("div",{className:"text-15",children:[(0,a.BX)("span",{className:"font-bold",children:[o?"Abstract":"About",":\xa0"]}),o||E||""]})},"abstract_".concat(B)),!J&&(0,a.tZ)(D.Z,{href:(0,M.k7)(null,t),className:"block w-fit !pt-2 text-15 md:text-base",underline:"never",onClick:()=>{(0,h._P)("PaperPublic RelatedPapersSearch Clicked",{query:t}),(0,h._P)("Search Executed",{query:t,searchLocation:"General",searchSource:"Paper Page Related Questions","Search Tier":(0,Y.k)(en,ei,es)})},target:"_blank",children:(0,a.tZ)(T.Z,{variant:"text",color:"primary",startIcon:(0,a.tZ)(P.G,{icon:w.Oel}),disablePadding:!0,children:"Show Related Papers"})})]}),(0,a.tZ)("div",{className:"block",children:(0,a.tZ)(S.default,{maxItems:6})})]})},J=l(81057),ee=l(57543),et=l(81107),el=l(65735),ea=l(69105),en=l(41664),ei=l.n(en),es=e=>{let{icon:t,slug:l,title:n,onClick:i}=e;return(0,a.BX)(ei(),{className:"group flex cursor-pointer items-center gap-3 rounded-md bg-neutral-10 px-3 py-2.5 no-underline",href:l,target:"_blank",onClick:i,children:[(0,a.tZ)(P.G,{icon:t,className:"h-4 w-4 text-neutral-600 group-hover:text-primary-500"}),(0,a.BX)("div",{className:"flex w-full items-center justify-between gap-3",children:[(0,a.tZ)("p",{className:"my-0 text-13 text-neutral-A100 group-hover:text-primary-500 sm:text-15",children:n}),(0,a.tZ)("p",{className:"my-0 whitespace-nowrap text-13 text-neutral-600",children:"Generated with AI"})]})]})};let er=Z()(()=>l.e(2407).then(l.bind(l,19254)),{loadableGenerated:{webpack:()=>[19254]}}),eo=Z()(()=>Promise.all([l.e(4119),l.e(1265),l.e(2818),l.e(4327)]).then(l.bind(l,59703)),{loadableGenerated:{webpack:()=>[59703]},ssr:!1});var ec=e=>{var t,l;let{paperData:i,containerRef:s,slideMeta:o,videoMeta:c}=e,{isMobile:d}=(0,n.useContext)(r.Tp),{fulltext_url:u,fulltext_url_no_follow:p}=i,m=!!u&&!p,[x,v]=(0,n.useState)(!1),_=e=>{(0,h._P)("slides"===e?"PaperPublic Slides Clicked":"PaperPublic Video Clicked",{hasPdf:m})},g=e=>{(0,h._P)("PaperPublic Summary Displayed",{slug:i.full_slug,TabName:e})},Z=()=>{v(!0),window.scrollTo({top:f.Be+20,behavior:"instant"})};return(0,a.BX)("div",{ref:s,children:[(0,a.BX)("div",{className:"mb-5 space-y-2 empty:hidden",children:[(null==c?void 0:c.full_slug)&&(null==c?void 0:c.is_published)&&(0,a.tZ)(es,{slug:(0,M.kl)(c.full_slug),icon:el.aQp,title:"Watch a short video about this journal article",onClick:()=>_("video")}),(null==o?void 0:o.full_slug)&&(null==o?void 0:o.is_published)&&(0,a.tZ)(es,{slug:(0,M.$N)(o.full_slug),icon:el.dmj,title:"View the research presentation for this journal article",onClick:()=>_("slides")})]}),(0,a.tZ)("div",{children:(0,a.tZ)(ea.default,{children:d||x?(0,a.tZ)(er,{...i.full_text,fulltext_url:i.fulltext_url,is_show:!i.fulltext_url_no_follow,paperSlug:i.full_slug,pdf_as_html_is_show:null===(t=i.full_text)||void 0===t?void 0:t.is_show,onPDFEnterFullScreen:Z,onPDFExitFullScreen:()=>v(!1)}):!i.fulltext_url_no_follow&&i.fulltext_url&&(0,a.tZ)(eo,{full_slug:i.full_slug,entityType:"PAPER",onClick:()=>{(0,h._P)("PaperPublic SummaryTab Clicked",{slug:i.full_slug})},onClose:()=>{(0,h._P)("PaperPublic FullTextTab Clicked",{slug:i.full_slug})},onContentLoad:e=>g(e),children:(0,a.tZ)(er,{...i.full_text,fulltext_url:i.fulltext_url,is_show:!i.fulltext_url_no_follow,paperSlug:i.full_slug,pdf_as_html_is_show:null===(l=i.full_text)||void 0===l?void 0:l.is_show,onPDFEnterFullScreen:Z,onPDFExitFullScreen:()=>v(!1)})})})})]})};let ed=Z()(()=>l.e(277).then(l.bind(l,5350)),{loadableGenerated:{webpack:()=>[5350]}}),eu=Z()(()=>Promise.all([l.e(4976),l.e(5713)]).then(l.bind(l,10435)),{loadableGenerated:{webpack:()=>[10435]}});var ef=e=>{var t,l,i,s,r,c;let{copilotVariant:d,assetsMeta:u,data:f}=e,{selectedEntitySlugForPDFCopilotFullScreen:p}=(0,n.useContext)(o.$),{fulltext_url:m,fulltext_url_no_follow:x}=f,v=!!m&&!x;return(0,a.BX)("div",{className:"w-full space-y-8 lg:max-w-2xl ".concat(p?"md:w-3/5 lg:!max-w-full":"z-1"),children:[(0,a.tZ)(et.Z,{crumbs:[{url:"/",label:"Home",forceRefresh:!0},{label:"Papers",url:"/papers"},{url:(0,M.Y9)(f.full_slug),label:f.title}],className:"mt-0"}),(0,a.tZ)(K,{...f}),(null==f?void 0:f.faqs)&&(null===(t=f.faqs)||void 0===t?void 0:t.is_show)&&(0,a.BX)("section",{className:"space-y-4",children:[(0,a.BX)("h5",{className:"mb-5 mt-0 flex items-center text-2xl font-semibold",children:[(0,a.tZ)(P.G,{className:"mr-2 text-xl text-secondary-500",icon:b.FDd}),"Frequently Asked Questions"]}),(0,a.tZ)(ed,{...f.faqs,hasPdf:v})]}),(0,a.tZ)(ec,{paperData:f,slideMeta:u.slide,videoMeta:u.video}),f.figures&&f.figures.is_show&&(0,a.BX)("div",{className:"pt-5",children:[(0,a.BX)("h5",{className:"mb-5 mt-0 flex items-center text-2xl font-semibold",children:[(0,a.tZ)(P.G,{icon:w.VmB,className:"mr-2 text-xl text-secondary-500"}),"Figures"]}),(0,a.tZ)(ee.default,{figures:f.figures,thumbnailSize:80,figuresPerLine:6,showAllIconType:"text",showLabel:!0,shouldPersistOnUrl:!0,figuresGalleryUrl:(0,M.z7)(f.full_slug),onClick:()=>{(0,h._P)("PaperPublic Figure Clicked",{hasPdf:v})}})]}),(null===(l=f.citations)||void 0===l?void 0:l.is_show)&&(0,a.tZ)(y.default,{paperSlug:f.full_slug,type:"citations",...f.citations,fssConfig:f.citations_fss_config}),(null===(i=f.references)||void 0===i?void 0:i.is_show)&&(0,a.tZ)(y.default,{paperSlug:f.full_slug,type:"references",fssConfig:f.references_fss_config,...f.references}),(null===(s=f.related_papers)||void 0===s?void 0:s.is_show)&&(0,a.tZ)(J.default,{...f.related_papers,page:"Paper Leaf",Location:"RelatedPapers"}),(null==f?void 0:null===(r=f.trending_questions)||void 0===r?void 0:r.is_show)&&(0,a.BX)("div",{className:"",children:[(0,a.BX)("h5",{className:"mb-5 mt-0 flex items-center text-2xl font-semibold",children:[(0,a.tZ)(P.G,{className:"mr-2 text-xl text-secondary-500",icon:b.imS}),"Trending Questions (".concat(null==f?void 0:null===(c=f.trending_questions)||void 0===c?void 0:c.total,")")]}),(0,a.tZ)(eu,{...f.trending_questions,entityType:"PAPER"})]})]})},ep=l(3304),em=l(80627),eh=e=>{let{copilotVariant:t}=e,{selectedEntitySlugForPDFCopilotFullScreen:l}=(0,n.useContext)(o.$),{isMobile:i}=(0,n.useContext)(r.Tp),s=(0,a.BX)(a.HY,{children:[(0,a.tZ)(ep.default,{className:"z-13001 max-md:bottom-0 max-md:right-0 max-md:!min-w-full xl:!right-20 2xl:!right-17% ".concat("DEFAULT"===t&&"animate-slideUp"," ").concat(l?"":"max-w-md"),headerProps:{title:i?"Chat":"Chat with Paper"}}),(0,a.tZ)(em.Z,{queryParam:"followup_question"})]});return i?(0,a.tZ)("div",{className:"max-md:fixed sm:hidden ".concat("DEFAULT"===t?"max-md:inset-0":"max-md:bottom-4 max-md:left-0"," z-13001"),children:s}):(0,a.tZ)("div",{className:"sticky top-20 hidden max-xl:!max-w-md lg:block ".concat(l?"!top-0 z-13001":"z-10"," ").concat("DEFAULT"===t?"w-full":"w-0"),style:{maxWidth:l?"514px":"450px"},children:(0,a.tZ)("div",{className:"h-90vh w-full ".concat(l?"z-appBar !h-screen":""),children:s})})},ex=(0,m.Z)((0,p.Z)(e=>{var t,l,p,m,g,Z;let{data:w,assetsMeta:b}=e,{host:P}=(0,n.useContext)(s.I),{selectedEntitySlugForPDFCopilotFullScreen:y}=(0,n.useContext)(o.$),{isMobile:N}=(0,n.useContext)(r.Tp),[C,S]=(0,n.useState)(N?"PILL":"DEFAULT"),k=(null===(l=b.video)||void 0===l?void 0:null===(t=l.thumbnail)||void 0===t?void 0:t.host)&&(null===(m=b.video)||void 0===m?void 0:null===(p=m.thumbnail)||void 0===p?void 0:p.path)?b.video.thumbnail.host+b.video.thumbnail.path:null,{fulltext_url:E,abstract:T,fulltext_url_no_follow:B,faqs:A,citations:L,authors:R,references:F,date:I,user_created:X}=w;return(0,n.useEffect)(()=>{var e,t,l;let a=(null==R?void 0:R.total)||null,n=(null==R?void 0:null===(e=R.data)||void 0===e?void 0:e.filter(e=>!!e.full_slug).length)||null;if((0,h._P)("PaperPublic Page Viewed",{hasPdf:!!E&&!B,hasAbstract:!!(null==T?void 0:T.length),hasVideo:!!(null===(t=b.video)||void 0===t?void 0:t.is_published),hasSlide:!!(null===(l=b.slide)||void 0===l?void 0:l.is_published),hasFaqs:!!A.is_show,faqCount:!!A.is_show&&A.total||null,hyperlinkedAuthorCount:n,totalAuthorCount:a,citationsCount:L.total,referencesCount:F.total,publishedYear:I&&(0,x.So)(I)||null,createdBy:X?"user":"scispace"}),N){(0,v.D$)(f.I9,"false");return}(0,v.D$)(f.I9,"true")},[]),(0,a.BX)(a.HY,{children:[(0,a.tZ)(u.Z,{..._.Z.getAllSeoTags(w,P,k||void 0,b),noIndex_noFollow:!!(null===(g=w.seo_metadata)||void 0===g?void 0:g.no_index)&&!!(null===(Z=w.seo_metadata)||void 0===Z?void 0:Z.no_follow)}),(0,a.tZ)(c.Z,{children:(0,a.tZ)(d.Z,{title:w.title,hasPdf:!!w.fulltext_url&&!w.fulltext_url_no_follow,fullSlug:w.full_slug,variant:C,copilotSize:"FLOATING"===C||"PILL"===C?"SMALL":"LARGE",onToggleCopilotSize:e=>{let t="LARGE"===e;S(t?"DEFAULT":N?"PILL":"FLOATING"),N||(0,v.D$)(f.I9,t)},children:(0,a.tZ)(i.Z,{entitySlug:w.full_slug,entityType:"PAPER",enabled:!!(w.fulltext_url&&!w.fulltext_url_no_follow),children:(0,a.tZ)("main",{className:"container relative flex items-start justify-center py-6 lg:pl-20 2xl:pl-0 ".concat(!!y&&"md:!pr-0"),children:(0,a.BX)("div",{className:"flex w-full items-start ".concat("DEFAULT"===C?"justify-start gap-6":"justify-center"),style:{maxWidth:y?"100%":1146},children:[(0,a.tZ)(ef,{assetsMeta:b,copilotVariant:C,data:w}),(0,a.tZ)(eh,{copilotVariant:C})]})})})})})]})})),ev=!0},95277:function(e,t,l){"use strict";l.d(t,{Z:function(){return r}});var a=l(9669),n=l.n(a);let i="/api/analytics/papers";class s{constructor(){this.getFullPaperAnalytics=async(e,t,l)=>{let a="".concat(i,"/").concat(e);return(await n().get(a,{params:t,signal:null==l?void 0:l.signal})).data},this.getPaperPublicStat=async e=>{let t="".concat(i,"/").concat(e,"/public-stat");return(await n().get(t)).data}}}let r=new s},86092:function(e,t){"use strict";t.Z=(e,t)=>{try{let l=window.document.createElement("a");l.href=window.URL.createObjectURL(e),l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l)}catch(e){console.log("downloadBlobAsFile",e)}}},50821:function(e,t,l){"use strict";l.d(t,{HI:function(){return s},r3:function(){return o},ud:function(){return c},wm:function(){return r}});var a=l(28508);let n=e=>1e-6*e,i=e=>.001*e,s=e=>e>1e6?"".concat(n(e).toFixed(1)," MB"):"".concat(i(e).toFixed(0)," KB"),r=e=>n(e.size)>a.c8?"FILE_TOO_BIG":null,o=e=>{if(!e.length)return null;switch(e[0].code){case"file-invalid-type":return"Currently we only support PDFs";case"file-too-large":return"File size exceeds the max limit of 100 MB";default:return null}},c=e=>e.startsWith("/")?e:"/"+e}},function(e){e.O(0,[7948,3512,4976,9335,6716,1879,2250,3042,4337,9097,1369,7278,4789,503,7334,8605,9953,2532,7769,2888,9774,179],function(){return e(e.s=46666)}),_N_E=e.O()}]);